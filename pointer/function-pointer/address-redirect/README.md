## 七 地址跳转

```
void(*reset)(void)= (void(*)(void))0。
void(*reset)(void)就是函数指针定义，(void(*)(void))0是强制类型转换操作，将数值“0”强制转换为函数指针地址“0”。
```
  通过调用reset()函数，程序就会跳转到程序执行的“0”地址处重新执行。在一些其他高级单片机Bootloader中，如NBoot、UBoot、EBoot，经常通过这些Bootloader进行下载程序，然后通过函数指针跳转到要执行程序的地址处。
```

1   void (*theUboot)(void);
    。。。。
    theUboot = (void (*)(void))(0x30700000);
    theUboot();
    。。。。。
```

```
2   (*(void (*)(void))(0x30700000))();
```

强制类型转换，将一个绝对地址转换为一个函数指针，并调用这个函数以跳转到前面提到的绝对地址．
翻译成汇编就是：

```
mov r0,0x30700000;
mov pc,r0
```

对于(*(void (*)(void))(0x30700000))();
可以这样理解
首先`（void( * )(void) )`是一个强制类型转换符，他将后面的0x30700000这个无符号整数强制转化为一个函数指针，该函数指针所指向的函数入口参数为 void，返回值也是void 。 如果到这步你看懂了，那么设`（void (*)(void))(0x30700000)`为`fp`； 那么上面的表达式就可以简化为`(*fp)()`; OK，这下就清楚了吧，我们将上面转化好的函数指针进行引用（也就是调用函数指针指向的函数）。
